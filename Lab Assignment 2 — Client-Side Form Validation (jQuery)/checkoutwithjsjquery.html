<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout Page</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>
<body class="bg-light">

 
  <div class="container my-4">
    <h4 class="text-center mb-4">Cart → Address → Payment → <span class="text-primary">Checkout</span></h4>
  </div>

 
  <div class="container">
    <div class="row g-4">

      
      <div class="col-12 col-md-7">
        <form id="checkoutForm" novalidate>

         
          <div class="card mb-4">
            <div class="card-header bg-primary text-white">Customer & Shipping Information</div>
            <div class="card-body">

              <div class="mb-3">
                <label for="fullname" class="form-label">Full Name</label>
                <input type="text" id="fullname" class="form-control" aria-describedby="err-fullname">
                <div id="err-fullname" class="invalid-feedback">Full name must be at least 3 characters.</div>
              </div>

              <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" id="email" class="form-control" aria-describedby="err-email">
                <div id="err-email" class="invalid-feedback">Enter a valid email address.</div>
              </div>

              <div class="mb-3">
                <label for="phone" class="form-label">Phone</label>
                <input type="text" id="phone" class="form-control" aria-describedby="err-phone">
                <div id="err-phone" class="invalid-feedback">Enter at least 10 digits.</div>
              </div>

              <div class="mb-3">
                <label for="address" class="form-label">Address</label>
                <input type="text" id="address" class="form-control" aria-describedby="err-address">
                <div id="err-address" class="invalid-feedback">Address is required.</div>
              </div>

              <div class="mb-3">
                <label for="city" class="form-label">City</label>
                <input type="text" id="city" class="form-control" aria-describedby="err-city">
                <div id="err-city" class="invalid-feedback">City is required.</div>
              </div>

              <div class="mb-3">
                <label for="postal" class="form-label">Postal Code</label>
                <input type="text" id="postal" class="form-control" aria-describedby="err-postal">
                <div id="err-postal" class="invalid-feedback">Postal code must be 4–6 digits.</div>
              </div>

              <div class="mb-3">
                <label for="country" class="form-label">Country</label>
                <select id="country" class="form-select" aria-describedby="err-country">
                  <option value="">Select Country</option>
                  <option>Pakistan</option>
                  <option>India</option>
                  <option>USA</option>
                  <option>UK</option>
                </select>
                <div id="err-country" class="invalid-feedback">Please select a country.</div>
              </div>

              <div class="mb-3 form-check">
                <input type="checkbox" id="billingSame" class="form-check-input">
                <label for="billingSame" class="form-check-label">Billing same as shipping</label>
              </div>

            </div>
          </div>

        
          <div class="card mb-4">
            <div class="card-header bg-primary text-white">Payment</div>
            <div class="card-body">
              <div class="mb-2">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="payment" id="payCard" value="Card">
                  <label class="form-check-label" for="payCard">Credit/Debit Card</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="payment" id="payCOD" value="COD">
                  <label class="form-check-label" for="payCOD">Cash on Delivery</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="payment" id="payWallet" value="Wallet">
                  <label class="form-check-label" for="payWallet">Wallet</label>
                </div>
                <div id="err-payment" class="invalid-feedback d-block" style="display:none;">Please select a payment method.</div>
              </div>

              <div id="cardDetails" style="display:none;">
                <div class="mb-3">
                  <label for="cardName" class="form-label">Cardholder Name</label>
                  <input type="text" id="cardName" class="form-control" aria-describedby="err-cardName">
                  <div id="err-cardName" class="invalid-feedback">Cardholder name required.</div>
                </div>

                <div class="mb-3">
                  <label for="cardNumber" class="form-label">Card Number</label>
                  <input type="text" id="cardNumber" class="form-control" aria-describedby="err-cardNumber" placeholder="XXXX-XXXX-XXXX-XXXX">
                  <div id="err-cardNumber" class="invalid-feedback">Enter a valid card number.</div>
                </div>

                <div class="row g-2">
                  <div class="col-md-6">
                    <label for="cardExpiry" class="form-label">Expiry</label>
                    <input type="text" id="cardExpiry" class="form-control" aria-describedby="err-cardExpiry" placeholder="MM/YY">
                    <div id="err-cardExpiry" class="invalid-feedback">Expiry required.</div>
                  </div>
                  <div class="col-md-6">
                    <label for="cardCVV" class="form-label">CVV</label>
                    <input type="text" id="cardCVV" class="form-control" aria-describedby="err-cardCVV">
                    <div id="err-cardCVV" class="invalid-feedback">CVV required.</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="form-check mb-3">
            <input type="checkbox" id="terms" class="form-check-input">
            <label for="terms" class="form-check-label">I agree to the terms & conditions</label>
            <div id="err-terms" class="invalid-feedback" style="display:none;">You must agree before placing the order.</div>
          </div>

          <button id="placeOrder" type="submit" class="btn btn-primary w-100">Place Order</button>

        </form>
      </div>

      
      <div class="col-12 col-md-5">
        <div class="card position-sticky top-0">
          <div class="card-header bg-primary text-white">Order Summary</div>
          <div class="card-body">
            <ul class="list-group mb-3">
              <li class="list-group-item d-flex justify-content-between">
                <div>Product A (x1)</div><strong>$10</strong>
              </li>
              <li class="list-group-item d-flex justify-content-between">
                <div>Product B (x2)</div><strong>$20</strong>
              </li>
              <li class="list-group-item d-flex justify-content-between">
                <span>Shipping</span><span>$5</span>
              </li>
              <li class="list-group-item d-flex justify-content-between">
                <span>Tax</span><span>$2</span>
              </li>
              <li class="list-group-item d-flex justify-content-between fw-bold">
                <span>Total</span><span>$37</span>
              </li>
            </ul>

            <div class="input-group">
              <input type="text" class="form-control" placeholder="Coupon code">
              <button class="btn btn-outline-secondary" type="button">Apply</button>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  
  <script>
  $(function() {

    
    $("#placeOrder").prop("disabled", true);
    $("#terms").change(function(){
      $("#placeOrder").prop("disabled", !$(this).is(":checked"));
    });

    $("input[name='payment']").change(function(){
      if ($("#payCard").is(":checked")) $("#cardDetails").slideDown();
      else $("#cardDetails").slideUp();
    });

    $("#checkoutForm").submit(function(e){
      e.preventDefault();
      var valid = true;

     
      function markInvalid(id, condition) {
        if (condition) {
          $(id).removeClass("is-invalid").addClass("is-valid");
        } else {
          $(id).addClass("is-invalid").removeClass("is-valid");
          valid = false;
        }
      }

     
      markInvalid("#fullname", $("#fullname").val().trim().length >= 3);
      markInvalid("#email", /^[^ ]+@[^ ]+\.[a-z]{2,3}$/i.test($("#email").val().trim()));
      markInvalid("#phone", /^[0-9]{10,}$/.test($("#phone").val().trim()));
      markInvalid("#address", $("#address").val().trim() !== "");
      markInvalid("#city", $("#city").val().trim() !== "");
      markInvalid("#postal", /^[0-9]{4,6}$/.test($("#postal").val().trim()));
      markInvalid("#country", $("#country").val().trim() !== "");

     
      var pay = $("input[name='payment']:checked").val();
      if (!pay) {
        $("#err-payment").show();
        valid = false;
      } else {
        $("#err-payment").hide();
      }

      
      if (pay === "Card") {
        markInvalid("#cardName", $("#cardName").val().trim() !== "");
        markInvalid("#cardNumber", /^[0-9\-]{13,19}$/.test($("#cardNumber").val().trim()));
        markInvalid("#cardExpiry", $("#cardExpiry").val().trim() !== "");
        markInvalid("#cardCVV", /^[0-9]{3,4}$/.test($("#cardCVV").val().trim()));
      } else {
        $("#cardDetails input").removeClass("is-invalid is-valid");
      }

    
      if (!$("#terms").is(":checked")) {
        $("#err-terms").show();
        valid = false;
      } else {
        $("#err-terms").hide();
      }

    
      if (!valid) {
        var first = $(".is-invalid").first()[0];
        if (!first) {
          if ($("#err-payment").is(":visible")) first = $("#err-payment")[0];
          else if ($("#err-terms").is(":visible")) first = $("#err-terms")[0];
        }
        if (first && first.scrollIntoView) first.scrollIntoView({ behavior: "smooth", block: "center" });
        return;
      }

      alert("Order placed successfully!");
      this.reset();
      $(".is-valid").removeClass("is-valid");
      $("#cardDetails").hide();
      $("#placeOrder").prop("disabled", true);
    });
  });
  </script>

</body>
</html>
